<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>InspIRCd: TreeSocket Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">InspIRCd
   &#160;<span id="projectnumber">2.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">TreeSocket Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="treesocket_8h_source.html">treesocket.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TreeSocket:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_tree_socket.png" usemap="#TreeSocket_map" alt=""/>
  <map id="TreeSocket_map" name="TreeSocket_map">
<area href="class_buffered_socket.html" alt="BufferedSocket" shape="rect" coords="0,168,99,192"/>
<area href="class_stream_socket.html" alt="StreamSocket" shape="rect" coords="0,112,99,136"/>
<area href="class_event_handler.html" alt="EventHandler" shape="rect" coords="0,56,99,80"/>
<area href="classclassbase.html" alt="classbase" shape="rect" coords="0,0,99,24"/>
</map>
 </div></div>

<p><a href="class_tree_socket-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa564479b1cc2929e06e2c4e068c12b98"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#aa564479b1cc2929e06e2c4e068c12b98">TreeSocket</a> (<a class="el" href="class_spanning_tree_utilities.html">SpanningTreeUtilities</a> *Util, <a class="el" href="class_link.html">Link</a> *link, <a class="el" href="class_autoconnect.html">Autoconnect</a> *myac, const std::string &amp;ipaddr)</td></tr>
<tr class="memitem:a46cef0a043c119b638a892ac67760325"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a46cef0a043c119b638a892ac67760325">TreeSocket</a> (<a class="el" href="class_spanning_tree_utilities.html">SpanningTreeUtilities</a> *Util, int newfd, <a class="el" href="class_listen_socket.html">ListenSocket</a> *via, <a class="el" href="unionirc_1_1sockets_1_1sockaddrs.html">irc::sockets::sockaddrs</a> *client, <a class="el" href="unionirc_1_1sockets_1_1sockaddrs.html">irc::sockets::sockaddrs</a> *server)</td></tr>
<tr class="memitem:a983503750db988894e035fca5696f47b"><td class="memItemLeft" align="right" valign="top">ServerState&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a983503750db988894e035fca5696f47b">GetLinkState</a> ()</td></tr>
<tr class="memitem:adfe8d39a5e3b3c97f3fa519fd6fd6036"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#adfe8d39a5e3b3c97f3fa519fd6fd6036">GetOurChallenge</a> ()</td></tr>
<tr class="memitem:affd5e7ae89f91d8a2d4e2a8d1e104d0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#affd5e7ae89f91d8a2d4e2a8d1e104d0b">SetOurChallenge</a> (const std::string &amp;c)</td></tr>
<tr class="memitem:a0ca74040c8cbcc70a51a162808fda45c"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a0ca74040c8cbcc70a51a162808fda45c">GetTheirChallenge</a> ()</td></tr>
<tr class="memitem:a3486c5e567d0699c975ad6fe6f62516f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a3486c5e567d0699c975ad6fe6f62516f">SetTheirChallenge</a> (const std::string &amp;c)</td></tr>
<tr class="memitem:a508a94a65f7a6a90a57d98f88dc276f1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a508a94a65f7a6a90a57d98f88dc276f1">ComparePass</a> (const <a class="el" href="class_link.html">Link</a> &amp;link, const std::string &amp;theirs)</td></tr>
<tr class="memitem:a67a04dd2cf8a380e3964825acee16419"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a67a04dd2cf8a380e3964825acee16419">CleanNegotiationInfo</a> ()</td></tr>
<tr class="memitem:a757041d961e2dfb0efed8046a3608053"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_cull_result.html">CullResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a757041d961e2dfb0efed8046a3608053">cull</a> ()</td></tr>
<tr class="memitem:ae41d968155e02f74cfa7e76f0241c504"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#ae41d968155e02f74cfa7e76f0241c504">~TreeSocket</a> ()</td></tr>
<tr class="memitem:a0ce78a9c0a885004e72068cdfc689cf7"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a0ce78a9c0a885004e72068cdfc689cf7">MakePass</a> (const std::string &amp;password, const std::string &amp;challenge)</td></tr>
<tr class="memitem:ad7194be97a08123169929624b21a711f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#ad7194be97a08123169929624b21a711f">OnConnected</a> ()</td></tr>
<tr class="memitem:af922dbd56fec6df8ccff198948a7e66b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#af922dbd56fec6df8ccff198948a7e66b">OnError</a> (BufferedSocketError e)</td></tr>
<tr class="memitem:a6af976ea921c2005eb0b6fb1e4ce3453"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a6af976ea921c2005eb0b6fb1e4ce3453">SendError</a> (const std::string &amp;errormessage)</td></tr>
<tr class="memitem:a01eef776bfc4259f2a04795ba0376f39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a01eef776bfc4259f2a04795ba0376f39">SendServers</a> (<a class="el" href="class_tree_server.html">TreeServer</a> *Current, <a class="el" href="class_tree_server.html">TreeServer</a> *s, int hops)</td></tr>
<tr class="memitem:ad186f3b0152c4c04d4023183202edefb"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#ad186f3b0152c4c04d4023183202edefb">MyModules</a> (int filter)</td></tr>
<tr class="memitem:a65e0296709f67eaf98a73f171ea088de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a65e0296709f67eaf98a73f171ea088de">SendCapabilities</a> (int phase)</td></tr>
<tr class="memitem:a1166bd0b5de2efa81e5b5b3c198a5655"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a1166bd0b5de2efa81e5b5b3c198a5655">CompatAddModules</a> (std::vector&lt; std::string &gt; &amp;modlist)</td></tr>
<tr class="memitem:a7e6b70a921200089e006829200f0b333"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7e6b70a921200089e006829200f0b333"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ListDifference</b> (const std::string &amp;one, const std::string &amp;two, char sep, std::string &amp;mleft, std::string &amp;mright)</td></tr>
<tr class="memitem:a2d0def95f83ba0679a809b769ffbc0c6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2d0def95f83ba0679a809b769ffbc0c6"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>Capab</b> (const parameterlist &amp;params)</td></tr>
<tr class="memitem:a3c6fc3e08d150dcb81c977339fe2a7be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a3c6fc3e08d150dcb81c977339fe2a7be">SquitServer</a> (std::string &amp;from, <a class="el" href="class_tree_server.html">TreeServer</a> *Current, int &amp;num_lost_servers, int &amp;num_lost_users)</td></tr>
<tr class="memitem:a3f16a3297d6aded65bd994342be42d81"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a3f16a3297d6aded65bd994342be42d81">Squit</a> (<a class="el" href="class_tree_server.html">TreeServer</a> *Current, const std::string &amp;reason)</td></tr>
<tr class="memitem:a4ab0daf53b625fc480f0a3c532c8a1dc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4ab0daf53b625fc480f0a3c532c8a1dc"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DoCollision</b> (<a class="el" href="class_user.html">User</a> *u, time_t remotets, const std::string &amp;remoteident, const std::string &amp;remoteip, const std::string &amp;remoteuid)</td></tr>
<tr class="memitem:af03075cfa7c217a67f799a418d76b3f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#af03075cfa7c217a67f799a418d76b3f8">SendFJoins</a> (<a class="el" href="class_channel.html">Channel</a> *c)</td></tr>
<tr class="memitem:ab022e9bdabaf1adce7d547a460d7e792"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#ab022e9bdabaf1adce7d547a460d7e792">SendXLines</a> (<a class="el" href="class_tree_server.html">TreeServer</a> *Current)</td></tr>
<tr class="memitem:a6c46ddc7413d5891d6bf2b578b45451a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a6c46ddc7413d5891d6bf2b578b45451a">SendChannelModes</a> (<a class="el" href="class_tree_server.html">TreeServer</a> *Current)</td></tr>
<tr class="memitem:a5b72f01eed2666c30c88070876bc4ae0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a5b72f01eed2666c30c88070876bc4ae0">SendUsers</a> (<a class="el" href="class_tree_server.html">TreeServer</a> *Current)</td></tr>
<tr class="memitem:a96669b8e229097eae0d7e145605ef9d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a96669b8e229097eae0d7e145605ef9d1">DoBurst</a> (<a class="el" href="class_tree_server.html">TreeServer</a> *s)</td></tr>
<tr class="memitem:a424f1912d2aefdbf4c1da87519338878"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a424f1912d2aefdbf4c1da87519338878">OnDataReady</a> ()</td></tr>
<tr class="memitem:ae0643afda39b42625119acda96d0a0cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#ae0643afda39b42625119acda96d0a0cd">WriteLine</a> (std::string line)</td></tr>
<tr class="memitem:ac5a7522804afeaf5926ba4698f98f53c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#ac5a7522804afeaf5926ba4698f98f53c">Error</a> (parameterlist &amp;params)</td></tr>
<tr class="memitem:aeb4a5f40a3822c9d93d3d702befc2649"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#aeb4a5f40a3822c9d93d3d702befc2649">Away</a> (const std::string &amp;prefix, parameterlist &amp;params)</td></tr>
<tr class="memitem:a66e8f84d0013b426e073330499104e6d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a66e8f84d0013b426e073330499104e6d">ForceNick</a> (const std::string &amp;prefix, parameterlist &amp;params)</td></tr>
<tr class="memitem:a7cff7033697f361a8414eff5398b906c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a7cff7033697f361a8414eff5398b906c">Encap</a> (<a class="el" href="class_user.html">User</a> *who, parameterlist &amp;params)</td></tr>
<tr class="memitem:a3fd5d9541b4abd0b4bc2db17dc5cef76"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a3fd5d9541b4abd0b4bc2db17dc5cef76">OperQuit</a> (const std::string &amp;prefix, parameterlist &amp;params)</td></tr>
<tr class="memitem:a10c172c922981bf172c99bd6a11fdb82"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a10c172c922981bf172c99bd6a11fdb82">LocalPong</a> (const std::string &amp;prefix, parameterlist &amp;params)</td></tr>
<tr class="memitem:ae217f33bee81c24ec12c86bd196b2419"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#ae217f33bee81c24ec12c86bd196b2419">ServerVersion</a> (const std::string &amp;prefix, parameterlist &amp;params)</td></tr>
<tr class="memitem:a0a6643ab48e533795185603e87927a53"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a0a6643ab48e533795185603e87927a53">AddLine</a> (const std::string &amp;prefix, parameterlist &amp;params)</td></tr>
<tr class="memitem:a6581e2c9acc5292d0f04ad512adbe36b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a6581e2c9acc5292d0f04ad512adbe36b">DelLine</a> (const std::string &amp;prefix, parameterlist &amp;params)</td></tr>
<tr class="memitem:a1f84be74a4ede4e0293a645cbd85b0dc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a1f84be74a4ede4e0293a645cbd85b0dc">Whois</a> (const std::string &amp;prefix, parameterlist &amp;params)</td></tr>
<tr class="memitem:ab90cadc9e0c9778c18746638da13717c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#ab90cadc9e0c9778c18746638da13717c">Push</a> (const std::string &amp;prefix, parameterlist &amp;params)</td></tr>
<tr class="memitem:ae02edac54db02762ab859f07c00482af"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#ae02edac54db02762ab859f07c00482af">LocalPing</a> (const std::string &amp;prefix, parameterlist &amp;params)</td></tr>
<tr class="memitem:afd0b18837aeba2e869840a072c9d0f59"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#afd0b18837aeba2e869840a072c9d0f59">RemoteServer</a> (const std::string &amp;prefix, parameterlist &amp;params)</td></tr>
<tr class="memitem:aa1406503d940944fa3485045f89b84e9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#aa1406503d940944fa3485045f89b84e9">Outbound_Reply_Server</a> (parameterlist &amp;params)</td></tr>
<tr class="memitem:a1673bbdd9143ebc4d815c95af47a35e5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a1673bbdd9143ebc4d815c95af47a35e5">Inbound_Server</a> (parameterlist &amp;params)</td></tr>
<tr class="memitem:a4e44a84467522cf63da7082d01b1e78a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a4e44a84467522cf63da7082d01b1e78a">Split</a> (const std::string &amp;line, std::string &amp;prefix, std::string &amp;command, parameterlist &amp;params)</td></tr>
<tr class="memitem:ae591f1f6df45768d3cfb1ea98a5de09a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#ae591f1f6df45768d3cfb1ea98a5de09a">ProcessLine</a> (const std::string &amp;line)</td></tr>
<tr class="memitem:a0f05e7093be7a58f09f3c0dbb6468e34"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f05e7093be7a58f09f3c0dbb6468e34"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ProcessConnectedLine</b> (std::string &amp;prefix, std::string &amp;command, parameterlist &amp;params)</td></tr>
<tr class="memitem:a6b6a9ffc69ffcdbecebe839744b3c508"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a6b6a9ffc69ffcdbecebe839744b3c508">OnTimeout</a> ()</td></tr>
<tr class="memitem:a003944b3cf953b0c675d983e13733096"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tree_socket.html#a003944b3cf953b0c675d983e13733096">Close</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a38016139b551e9f1d8d8c3fae38dba1c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a38016139b551e9f1d8d8c3fae38dba1c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>proto_version</b></td></tr>
<tr class="memitem:a071e86b81791400e796586a853fae9bc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a071e86b81791400e796586a853fae9bc"></a>
<a class="el" href="class_spanning_tree_sync_target.html">SpanningTreeSyncTarget</a>&#160;</td><td class="memItemRight" valign="bottom"><b>sync</b></td></tr>
<tr class="memitem:a9033c1cafffd9986ab399274a6372ac3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9033c1cafffd9986ab399274a6372ac3"></a>
time_t&#160;</td><td class="memItemRight" valign="bottom"><b>age</b></td></tr>
<tr class="memitem:abafd7439f2d629d3f5d7ce3760a81647"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abafd7439f2d629d3f5d7ce3760a81647"></a>
time_t&#160;</td><td class="memItemRight" valign="bottom"><b>NextPing</b></td></tr>
<tr class="memitem:ae7b7fd2cfd708b8e39150bd55410b04a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae7b7fd2cfd708b8e39150bd55410b04a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>LastPingWasGood</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Every SERVER connection inbound or outbound is represented by an object of type <a class="el" href="class_tree_socket.html">TreeSocket</a>. During setup, the object can be found in Utils-&gt;timeoutlist; after setup, MyRoot will have been created as a child of Utils-&gt;TreeRoot </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa564479b1cc2929e06e2c4e068c12b98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tree_socket.html#aa564479b1cc2929e06e2c4e068c12b98">TreeSocket::TreeSocket</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_spanning_tree_utilities.html">SpanningTreeUtilities</a> *&#160;</td>
          <td class="paramname"><em>Util</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_link.html">Link</a> *&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_autoconnect.html">Autoconnect</a> *&#160;</td>
          <td class="paramname"><em>myac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ipaddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Because most of the I/O gubbins are encapsulated within <a class="el" href="class_buffered_socket.html">BufferedSocket</a>, we just call the superclass constructor for most of the action, and append a few of our own values to it. </p>

</div>
</div>
<a class="anchor" id="a46cef0a043c119b638a892ac67760325"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tree_socket.html#aa564479b1cc2929e06e2c4e068c12b98">TreeSocket::TreeSocket</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_spanning_tree_utilities.html">SpanningTreeUtilities</a> *&#160;</td>
          <td class="paramname"><em>Util</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newfd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_listen_socket.html">ListenSocket</a> *&#160;</td>
          <td class="paramname"><em>via</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionirc_1_1sockets_1_1sockaddrs.html">irc::sockets::sockaddrs</a> *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionirc_1_1sockets_1_1sockaddrs.html">irc::sockets::sockaddrs</a> *&#160;</td>
          <td class="paramname"><em>server</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>When a listening socket gives us a new file descriptor, we must associate it with a socket without creating a new connection. This constructor is used for this purpose. </p>

</div>
</div>
<a class="anchor" id="ae41d968155e02f74cfa7e76f0241c504"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tree_socket.html#ae41d968155e02f74cfa7e76f0241c504">TreeSocket::~TreeSocket</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destructor </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0a6643ab48e533795185603e87927a53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_tree_socket.html#a0a6643ab48e533795185603e87927a53">TreeSocket::AddLine</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ADDLINE </p>

</div>
</div>
<a class="anchor" id="aeb4a5f40a3822c9d93d3d702befc2649"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_tree_socket.html#aeb4a5f40a3822c9d93d3d702befc2649">TreeSocket::Away</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remote AWAY </p>

</div>
</div>
<a class="anchor" id="a67a04dd2cf8a380e3964825acee16419"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#a67a04dd2cf8a380e3964825acee16419">TreeSocket::CleanNegotiationInfo</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clean up information used only during server negotiation </p>

</div>
</div>
<a class="anchor" id="a003944b3cf953b0c675d983e13733096"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#a003944b3cf953b0c675d983e13733096">TreeSocket::Close</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handle server quit on close </p>

<p>Reimplemented from <a class="el" href="class_stream_socket.html#ad1a551adaf473b45934f09b27883623c">StreamSocket</a>.</p>

</div>
</div>
<a class="anchor" id="a508a94a65f7a6a90a57d98f88dc276f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_tree_socket.html#a508a94a65f7a6a90a57d98f88dc276f1">TreeSocket::ComparePass</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_link.html">Link</a> &amp;&#160;</td>
          <td class="paramname"><em>link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>theirs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Compare two passwords based on authentication scheme </p>

</div>
</div>
<a class="anchor" id="a1166bd0b5de2efa81e5b5b3c198a5655"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#a1166bd0b5de2efa81e5b5b3c198a5655">TreeSocket::CompatAddModules</a> </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>modlist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add modules to VF_COMMON list for backwards compatability </p>

</div>
</div>
<a class="anchor" id="a757041d961e2dfb0efed8046a3608053"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cull_result.html">CullResult</a> <a class="el" href="class_tree_socket.html#a757041d961e2dfb0efed8046a3608053">TreeSocket::cull</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This ensures that close is called prior to destructor </p>

<p>Reimplemented from <a class="el" href="class_stream_socket.html#afdc157dd752df2cce0ed53feca2eef55">StreamSocket</a>.</p>

</div>
</div>
<a class="anchor" id="a6581e2c9acc5292d0f04ad512adbe36b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_tree_socket.html#a6581e2c9acc5292d0f04ad512adbe36b">TreeSocket::DelLine</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>DELLINE </p>

</div>
</div>
<a class="anchor" id="a96669b8e229097eae0d7e145605ef9d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#a96669b8e229097eae0d7e145605ef9d1">TreeSocket::DoBurst</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tree_server.html">TreeServer</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function is called when we want to send a netburst to a local server. There is a set order we must do this, because for example users require their servers to exist, and channels require their users to exist. You get the idea. </p>

</div>
</div>
<a class="anchor" id="a7cff7033697f361a8414eff5398b906c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#a7cff7033697f361a8414eff5398b906c">TreeSocket::Encap</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_user.html">User</a> *&#160;</td>
          <td class="paramname"><em>who</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ENCAP command</p>
<p>ENCAP </p>

</div>
</div>
<a class="anchor" id="ac5a7522804afeaf5926ba4698f98f53c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#ac5a7522804afeaf5926ba4698f98f53c">TreeSocket::Error</a> </td>
          <td>(</td>
          <td class="paramtype">parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handle ERROR command </p>

</div>
</div>
<a class="anchor" id="a66e8f84d0013b426e073330499104e6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_tree_socket.html#a66e8f84d0013b426e073330499104e6d">TreeSocket::ForceNick</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>SAVE to resolve nick collisions without killing</p>
<p>SAVE command - force nick change to UID on timestamp match </p>

</div>
</div>
<a class="anchor" id="a983503750db988894e035fca5696f47b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ServerState <a class="el" href="class_tree_socket.html#a983503750db988894e035fca5696f47b">TreeSocket::GetLinkState</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get link state </p>

</div>
</div>
<a class="anchor" id="adfe8d39a5e3b3c97f3fa519fd6fd6036"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; <a class="el" href="class_tree_socket.html#adfe8d39a5e3b3c97f3fa519fd6fd6036">TreeSocket::GetOurChallenge</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get challenge set in our CAPAB for challenge/response </p>

</div>
</div>
<a class="anchor" id="a0ca74040c8cbcc70a51a162808fda45c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; <a class="el" href="class_tree_socket.html#a0ca74040c8cbcc70a51a162808fda45c">TreeSocket::GetTheirChallenge</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get challenge set in their CAPAB for challenge/response </p>

</div>
</div>
<a class="anchor" id="a1673bbdd9143ebc4d815c95af47a35e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_tree_socket.html#a1673bbdd9143ebc4d815c95af47a35e5">TreeSocket::Inbound_Server</a> </td>
          <td>(</td>
          <td class="paramtype">parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>(local) &lt;- SERVER </p>

</div>
</div>
<a class="anchor" id="ae02edac54db02762ab859f07c00482af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_tree_socket.html#ae02edac54db02762ab859f07c00482af">TreeSocket::LocalPing</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>PING </p>

</div>
</div>
<a class="anchor" id="a10c172c922981bf172c99bd6a11fdb82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_tree_socket.html#a10c172c922981bf172c99bd6a11fdb82">TreeSocket::LocalPong</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>PONG </p>

</div>
</div>
<a class="anchor" id="a0ce78a9c0a885004e72068cdfc689cf7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="class_tree_socket.html#a0ce78a9c0a885004e72068cdfc689cf7">TreeSocket::MakePass</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>challenge</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Construct a password, optionally hashed with the other side's challenge string </p>

</div>
</div>
<a class="anchor" id="ad186f3b0152c4c04d4023183202edefb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="class_tree_socket.html#ad186f3b0152c4c04d4023183202edefb">TreeSocket::MyModules</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>filter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns module list as a string, filtered by filter </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">filter</td><td>a module version bitmask, such as VF_COMMON or VF_OPTCOMMON </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad7194be97a08123169929624b21a711f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#ad7194be97a08123169929624b21a711f">TreeSocket::OnConnected</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>When an outbound connection finishes connecting, we receive this event, and must send our SERVER string to the other side. If the other side is happy, as outlined in the server to server docs on the inspircd.org site, the other side will then send back its own server string. </p>

<p>Reimplemented from <a class="el" href="class_buffered_socket.html#a19a2114196259727718aae840892c4e5">BufferedSocket</a>.</p>

</div>
</div>
<a class="anchor" id="a424f1912d2aefdbf4c1da87519338878"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#a424f1912d2aefdbf4c1da87519338878">TreeSocket::OnDataReady</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function is called when we receive data from a remote server. </p>

<p>Implements <a class="el" href="class_buffered_socket.html#a075e598f615882452e5dab70b460f475">BufferedSocket</a>.</p>

</div>
</div>
<a class="anchor" id="af922dbd56fec6df8ccff198948a7e66b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#af922dbd56fec6df8ccff198948a7e66b">TreeSocket::OnError</a> </td>
          <td>(</td>
          <td class="paramtype">BufferedSocketError&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handle socket error event </p>

<p>Implements <a class="el" href="class_stream_socket.html#a87a969c40b5154b5770aa1094edaae6d">StreamSocket</a>.</p>

</div>
</div>
<a class="anchor" id="a6b6a9ffc69ffcdbecebe839744b3c508"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#a6b6a9ffc69ffcdbecebe839744b3c508">TreeSocket::OnTimeout</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handle socket timeout from connect() </p>

<p>Reimplemented from <a class="el" href="class_buffered_socket.html#a3b39cecd363bf59f70fc7b22acf11a86">BufferedSocket</a>.</p>

</div>
</div>
<a class="anchor" id="a3fd5d9541b4abd0b4bc2db17dc5cef76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_tree_socket.html#a3fd5d9541b4abd0b4bc2db17dc5cef76">TreeSocket::OperQuit</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>OPERQUIT command </p>

</div>
</div>
<a class="anchor" id="aa1406503d940944fa3485045f89b84e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_tree_socket.html#aa1406503d940944fa3485045f89b84e9">TreeSocket::Outbound_Reply_Server</a> </td>
          <td>(</td>
          <td class="paramtype">parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>(local) -&gt; SERVER </p>

</div>
</div>
<a class="anchor" id="ae591f1f6df45768d3cfb1ea98a5de09a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#ae591f1f6df45768d3cfb1ea98a5de09a">TreeSocket::ProcessLine</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>line</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Process complete line from buffer </p>

</div>
</div>
<a class="anchor" id="ab90cadc9e0c9778c18746638da13717c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_tree_socket.html#ab90cadc9e0c9778c18746638da13717c">TreeSocket::Push</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>PUSH </p>

</div>
</div>
<a class="anchor" id="afd0b18837aeba2e869840a072c9d0f59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_tree_socket.html#afd0b18837aeba2e869840a072c9d0f59">TreeSocket::RemoteServer</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>&lt;- (remote) &lt;- SERVER </p>

</div>
</div>
<a class="anchor" id="a65e0296709f67eaf98a73f171ea088de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#a65e0296709f67eaf98a73f171ea088de">TreeSocket::SendCapabilities</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>phase</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send my capabilities to the remote side </p>

</div>
</div>
<a class="anchor" id="a6c46ddc7413d5891d6bf2b578b45451a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#a6c46ddc7413d5891d6bf2b578b45451a">TreeSocket::SendChannelModes</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tree_server.html">TreeServer</a> *&#160;</td>
          <td class="paramname"><em>Current</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send channel modes and topics </p>

</div>
</div>
<a class="anchor" id="a6af976ea921c2005eb0b6fb1e4ce3453"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#a6af976ea921c2005eb0b6fb1e4ce3453">TreeSocket::SendError</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>errormessage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sends an error to the remote server, and displays it locally to show that it was sent. </p>

</div>
</div>
<a class="anchor" id="af03075cfa7c217a67f799a418d76b3f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#af03075cfa7c217a67f799a418d76b3f8">TreeSocket::SendFJoins</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_channel.html">Channel</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send one or more FJOINs for a channel of users. If the length of a single line is more than 480-NICKMAX in length, it is split over multiple lines. </p>

</div>
</div>
<a class="anchor" id="a01eef776bfc4259f2a04795ba0376f39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#a01eef776bfc4259f2a04795ba0376f39">TreeSocket::SendServers</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tree_server.html">TreeServer</a> *&#160;</td>
          <td class="paramname"><em>Current</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_tree_server.html">TreeServer</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hops</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Recursively send the server tree with distances as hops. This is used during network burst to inform the other server (and any of ITS servers too) of what servers we know about. If at any point any of these servers already exist on the other end, our connection may be terminated. The hopcounts given by this function are relative, this doesn't matter so long as they are all &gt;1, as all the remote servers re-calculate them to be relative too, with themselves as hop 0. </p>

</div>
</div>
<a class="anchor" id="a5b72f01eed2666c30c88070876bc4ae0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#a5b72f01eed2666c30c88070876bc4ae0">TreeSocket::SendUsers</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tree_server.html">TreeServer</a> *&#160;</td>
          <td class="paramname"><em>Current</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>send all users and their oper state/modes </p>

</div>
</div>
<a class="anchor" id="ab022e9bdabaf1adce7d547a460d7e792"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#ab022e9bdabaf1adce7d547a460d7e792">TreeSocket::SendXLines</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tree_server.html">TreeServer</a> *&#160;</td>
          <td class="paramname"><em>Current</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send G, Q, Z and E lines </p>

</div>
</div>
<a class="anchor" id="ae217f33bee81c24ec12c86bd196b2419"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_tree_socket.html#ae217f33bee81c24ec12c86bd196b2419">TreeSocket::ServerVersion</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>VERSION </p>

</div>
</div>
<a class="anchor" id="affd5e7ae89f91d8a2d4e2a8d1e104d0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#affd5e7ae89f91d8a2d4e2a8d1e104d0b">TreeSocket::SetOurChallenge</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get challenge set in our CAPAB for challenge/response </p>

</div>
</div>
<a class="anchor" id="a3486c5e567d0699c975ad6fe6f62516f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#a3486c5e567d0699c975ad6fe6f62516f">TreeSocket::SetTheirChallenge</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get challenge set in their CAPAB for challenge/response </p>

</div>
</div>
<a class="anchor" id="a4e44a84467522cf63da7082d01b1e78a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#a4e44a84467522cf63da7082d01b1e78a">TreeSocket::Split</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handle IRC line split </p>

</div>
</div>
<a class="anchor" id="a3f16a3297d6aded65bd994342be42d81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#a3f16a3297d6aded65bd994342be42d81">TreeSocket::Squit</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tree_server.html">TreeServer</a> *&#160;</td>
          <td class="paramname"><em>Current</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is a wrapper function for SquitServer above, which does some validation first and passes on the SQUIT to all other remaining servers. </p>

</div>
</div>
<a class="anchor" id="a3c6fc3e08d150dcb81c977339fe2a7be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#a3c6fc3e08d150dcb81c977339fe2a7be">TreeSocket::SquitServer</a> </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_tree_server.html">TreeServer</a> *&#160;</td>
          <td class="paramname"><em>Current</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>num_lost_servers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>num_lost_users</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function forces this server to quit, removing this server and any users on it (and servers and users below that, etc etc). It's very slow and pretty clunky, but luckily unless your network is having a REAL bad hair day, this function shouldnt be called too many times a month ;-) </p>

</div>
</div>
<a class="anchor" id="a1f84be74a4ede4e0293a645cbd85b0dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_tree_socket.html#a1f84be74a4ede4e0293a645cbd85b0dc">TreeSocket::Whois</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>WHOIS </p>

</div>
</div>
<a class="anchor" id="ae0643afda39b42625119acda96d0a0cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_tree_socket.html#ae0643afda39b42625119acda96d0a0cd">TreeSocket::WriteLine</a> </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>line</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send one or more complete lines down the socket </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/modules/m_spanningtree/<a class="el" href="treesocket_8h_source.html">treesocket.h</a></li>
<li>src/modules/m_spanningtree/addline.cpp</li>
<li>src/modules/m_spanningtree/away.cpp</li>
<li>src/modules/m_spanningtree/capab.cpp</li>
<li>src/modules/m_spanningtree/compat.cpp</li>
<li>src/modules/m_spanningtree/delline.cpp</li>
<li>src/modules/m_spanningtree/encap.cpp</li>
<li>src/modules/m_spanningtree/hmac.cpp</li>
<li>src/modules/m_spanningtree/netburst.cpp</li>
<li>src/modules/m_spanningtree/nickcollide.cpp</li>
<li>src/modules/m_spanningtree/operquit.cpp</li>
<li>src/modules/m_spanningtree/ping.cpp</li>
<li>src/modules/m_spanningtree/pong.cpp</li>
<li>src/modules/m_spanningtree/push.cpp</li>
<li>src/modules/m_spanningtree/save.cpp</li>
<li>src/modules/m_spanningtree/server.cpp</li>
<li>src/modules/m_spanningtree/treesocket1.cpp</li>
<li>src/modules/m_spanningtree/treesocket2.cpp</li>
<li>src/modules/m_spanningtree/version.cpp</li>
<li>src/modules/m_spanningtree/whois.cpp</li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
